# Generated by nginxconfig.io
# See nginxconfig.txt for the configuration share link

user                 nginx;
# pid                  /var/run/nginx.pid;
worker_processes     auto;
# worker_rlimit_nofile 65535;
#
# # Load modules
# include              /etc/nginx/modules-enabled/*.conf;

events {
}

http {
    server {
        listen      80;
        listen      [::]:80;
        server_name appledevices.xahprod.ru;
        root        /var/www/AppleDevices.xahprod.ru/public;

        # restrict methods
        if ($request_method !~ ^(GET|POST|PUT|DELETE)$) {
            return '405';
        }

        # logging
        access_log /var/log/nginx/access.log combined buffer=512k flush=1m;
        error_log  /var/log/nginx/error.log warn;

        # index.php fallback
#         location / {
#             proxy_pass            http://192.168.1.192:5173;
#             proxy_set_header Host $host;
#         }
#
#         # reverse proxy
        location / {
            proxy_pass            http://192.168.1.192:5478;
            proxy_set_header Host $host;
        }
#
#         # additional config
#         include nginxconfig.io/general.conf;
    }
}
